{% extends "base.html" %}

{% block content %}


    <!--
    <div class="row">
        <div class="col-11 text-left">Top Stocks</div>
        <div class="col-1 text-right">X</div>
    </div>
    -->
    <!-- <form id="searchform" action="search/" method="get">
        <input type="text" name="q" type="text"/>
        <button type="button" onclick="searchform.submit()">Search</button>
    </form> -->

    <div>
    <form action="" method="get">
        <input type="text" class="form-control" name="search" id="id_q" placeholder="Search by symbol or name...">
    </form>

    </div>


    <table class="table data-table">
        <tr>
            <th>#</th>
            <th>Symbol</th>
            <th>Name</th>
            <th>Price</th>
            <th>Change</th>
            <th>Follow</th>
        </tr>
        {% for stock in data %}
            <tr >

                <td class="clickable-row" data-href="/stock/{{ stock.symbol }}">{{ forloop.counter }}</td>
                <td class="clickable-row" data-href="/stock/{{ stock.symbol }}">{{ stock.symbol }}</td>
                <td class="clickable-row" data-href="/stock/{{ stock.symbol }}">{{ stock.name }}</td>
                <td class="clickable-row" data-href="/stock/{{ stock.symbol }}">{{ stock.price|floatformat:2 }}</td>
                <td class="
                {% if stock.change_percent >= 0 %}
                    text-success
                {% else %}
                    text-danger
                {% endif %}
                ">{{ stock.change_percent|floatformat:2 }}%</td>
                <td><button class="btn success">+</button></td>
            </tr>
            
            
            

        {% endfor %}
    </table>
{% endblock %}

<script type="text/javascript">
    document.getElementById("id_q").value = "{{query}}"
    </script>